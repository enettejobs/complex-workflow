name: Complex

on: [push]

jobs:
  ubuntu:
    runs-on: ubuntu-latest
    steps:
      - run: date

  windows:
    runs-on: windows-latest
    steps:
      - name: Check if Key Vault Exists
        shell: pwsh
        run: |
          Write-Host "##vso[task.setvariable variable=resourceExists]true"
      - run: date
      - name: Display Key Vault Properties
        shell: pwsh
        run: |
          Write-Output "Key Vault Properties:"
          Write-Output "test properties"

  macos:
    runs-on: macos-latest
    steps:
      - run: date

# Define dependencies correctly for jobs that should run only after other jobs finish
needs: [ubuntu, windows, macos]
